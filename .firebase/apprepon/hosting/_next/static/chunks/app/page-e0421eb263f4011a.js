(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(5155),i=r(2115),s=r(4253),a=r(2085),o=r(9434);let l=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:r,variant:i,size:a,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:i,size:a,className:r})),ref:t,...d})});c.displayName="Button"},1949:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3792:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(5155),i=r(2115),s=r(5695),a=r(5544),o=r(4430),l=r(285),c=r(172),d=r(1949),u=r(6766);function f(){let{user:e,loading:t}=(0,a.A)(),r=(0,s.useRouter)(),[f,p]=(0,i.useState)(null),[h,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{!t&&e&&r.replace("/pantry/".concat("nuestra-despensa-compartida"))},[e,t,r]);let g=async()=>{p(null),m(!0);try{await (0,o.G6)()}catch(e){p(e.message)}finally{m(!1)}};return t||e?(0,n.jsx)("main",{className:"flex min-h-screen w-full flex-col items-center justify-center bg-background p-4",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,n.jsx)(u.default,{src:"/logorepon.png",alt:"Logo de RePon",width:180,height:45,priority:!0}),(0,n.jsx)(c.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})]})}):(0,n.jsx)("main",{className:"flex min-h-screen w-full flex-col items-center justify-center bg-background p-4",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-6 text-center max-w-md mx-auto",children:[(0,n.jsx)(u.default,{src:"/logorepon.png",alt:"Logo de RePon",width:240,height:60,priority:!0}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Tu asistente de despensa inteligente"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-2",children:"Inicia sesi\xf3n para acceder a vuestra despensa compartida."})]}),f&&(0,n.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive text-sm rounded-md p-3 w-full max-w-xs flex items-start gap-3",children:[(0,n.jsx)(d.A,{className:"h-5 w-5 flex-shrink-0"}),(0,n.jsx)("p",{className:"text-left",children:f})]}),(0,n.jsx)("div",{className:"flex flex-col items-center gap-2 w-full",children:(0,n.jsxs)(l.$,{onClick:g,size:"lg",className:"w-full max-w-xs",disabled:h,children:[h?(0,n.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,n.jsx)("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,n.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 21.2 172.9 60.3L337.9 162C300.9 128 258.1 108 210.3 108c-73.2 0-132.3 59.8-132.3 133.1s59.1 133.1 132.3 133.1c76.9 0 115.1-53.7 119.1-82.3H210.3v-71.6h278.2c2.9 15.6 4.6 33.1 4.6 52.5z"})}),"Iniciar sesi\xf3n con Google"]})})]})})}},4050:(e,t,r)=>{Promise.resolve().then(r.bind(r,3792))},4253:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var n=r(2115);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var s=r(5155),a=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(n.isValidElement(r)){var a;let e,o,l=(a=r,(o=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(o=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,t){let r={...t};for(let n in t){let i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...s}:"className"===n&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(c.ref=t?function(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}(t,l):l),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...a}=e,o=n.Children.toArray(i),c=o.find(l);if(c){let e=c.props.children,i=o.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,s.jsx)(t,{...a,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}("Slot"),o=Symbol("radix.slottable");function l(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},4430:(e,t,r)=>{"use strict";r.d(t,{CI:()=>o,G6:()=>a,hg:()=>l});var n=r(3004),i=r(5813);let s=new n.HF,a=async()=>{try{return(await (0,n.df)(i.j,s)).user}catch(e){if(console.error("Error durante el inicio de sesi\xf3n con Google:",e),"auth/popup-blocked"===e.code)throw Error("El popup de inicio de sesi\xc3\xb3n fue bloqueado por el navegador. Por favor, habilita los popups para este sitio.");if("auth/unauthorized-domain"===e.code)throw Error("Este dominio no est\xe1 autorizado para el inicio de sesi\xf3n. Revisa la configuraci\xf3n de autenticaci\xf3n en tu proyecto de Firebase y aseg\xfarate de que el dominio actual est\xe9 en la lista de dominios autorizados.");throw Error("Ocurri\xf3 un error inesperado al intentar iniciar sesi\xf3n: ".concat(e.message))}},o=async()=>{try{await (0,n.CI)(i.j)}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}},l=e=>(0,n.hg)(i.j,e)},5544:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>c});var n=r(5155),i=r(2115),s=r(4430),a=r(172),o=r(6766);let l=(0,i.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{let e=(0,s.hg)(e=>{c(e),u(!1)});return()=>e()},[]),d)?(0,n.jsx)("div",{className:"flex min-h-screen w-full flex-col items-center justify-center bg-background p-4",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,n.jsx)(o.default,{src:"/logorepon.png",alt:"Logo de RePon",width:180,height:45,priority:!0}),(0,n.jsx)(a.A,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Verificando autenticaci\xf3n..."})]})}):(0,n.jsx)(l.Provider,{value:{user:r,loading:d},children:t})}let d=()=>{let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},5813:(e,t,r)=>{"use strict";let n,i,s;r.d(t,{db:()=>s,j:()=>i});var a=r(3915),o=r(3004),l=r(5317);n=0===(0,a.Dk)().length?(0,a.Wp)({apiKey:"AIzaSyA6602Gif2lyUqh6Ix1cUK-GAzwNJ-VU1g",authDomain:"localhost",projectId:"apprepon",storageBucket:"apprepon.appspot.com",messagingSenderId:"165040282600",appId:"1:165040282600:web:3869fbbfee23f559fce25d"}):(0,a.Sx)(),s=(0,l.aU)(n),i=(0,o.xI)(n),window.__firebase_persistence_enabled||(window.__firebase_persistence_enabled=!0,(0,l.ol)(s).catch(e=>{"failed-precondition"==e.code?console.warn("Firebase persistence failed: Multiple tabs open. Persistence can only be enabled in one tab at a time."):"unimplemented"==e.code?console.warn("Firebase persistence failed: The current browser does not support all of the features required to enable persistence."):console.error("Firebase persistence error",e)})),window.__FIREBASE_APP__=n},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(2596),i=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,n.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,416,755,441,684,358],()=>t(4050)),_N_E=e.O()}]);